{% extends "base.html" %}

{% block content %}
<style>
    nav {
        position: fixed;
        top: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
    }
    
    nav .container {
        display: flex;
        justify-content: space-around;
        padding: 10px;
    }
    
    nav a {
        color: #FFF;
        text-decoration: none;
    }
    
    .starry-night-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background-color: #000;
        overflow: hidden;
        z-index: 1;
    }
    
    .starry-night {
        font-family: monospace;
        line-height: 1;
        white-space: pre;
        color: #FFF;
        font-size: 10px;
        padding: 10px;
    }
    
    .poem {
        position: fixed;
        bottom: 100px;
        left: 0;
        width: 100%;
        text-align: center;
        color: #FFF;
        font-size: 16px;
        padding: 10px;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
    }
    
    @media (min-width: 768px) {
        .starry-night {
            font-size: 14px;
        }
    }
    </style>
    
    {# <nav>
        <div class="container">
            <a href="/">题匾</a>
            <a href="/blog/">修斋</a>
            <a href="/about/">无我</a>
            <a href="/social/">江湖</a>
            <a href="/family-letters/">林氏家书</a>
            <a href="/starry-night/">星辰</a>
        </div>
    </nav> #}
    
    <div class="starry-night-container">
        <div class="starry-night" id="starry-night"></div>
    </div>
    
    <div class="poem">
        <p>醉后不知天在水，满船清梦压星河。</p>
        <p>——唐温如《题龙阳县青草湖》</p>
    </div>
    
    <script>
    function generateStarryNight() {
        const container = document.getElementById('starry-night');
        const width = window.innerWidth;
        const height = window.innerHeight;
        const charWidth = 10;  // Approximate width of a character
        const charHeight = 14; // Approximate height of a character
        const cols = Math.floor(width / charWidth)+20;
        const rows = Math.floor(height / charHeight)+20;
        
        let sky = '';
        const stars = ['*', '.', ' ', ' ', ' '];  // More empty space for a realistic look
        
        for (let i = 0; i < rows; i++) {
            for (let j = 0; j < cols; j++) {
                sky += stars[Math.floor(Math.random() * stars.length)];
            }
            sky += '\n';
        }
        
        container.textContent = sky;
    }
    
    window.addEventListener('resize', generateStarryNight);
    generateStarryNight();
    </script>
{% endblock content %}